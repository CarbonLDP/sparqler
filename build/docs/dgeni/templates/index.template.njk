{% extends 'base.template.njk' %}

{% block title %}Index{% endblock %}

{% block content_continuation %}
    <h2 class="doc-content__title">SPARQLER</h2>
    <p>SPARQL query buildER for JavaScript/TypeScript which offers a fluent interface to help you construct queries and prevent errors by malformed patterns.</p>
    <div class="info-cards">
        {% set main = doc.exports | selectattr('isDefault') | first %}
        <a class="info-cards__card" href="{{ main.id }}">
            <div class="ui icon message">
                <i class="student icon"></i>
                <div class="content">Getting Started</div>
            </div>
        </a>
        <a class="info-cards__card" href="https://carbonldp.com/documentation/javascript-sdk/querying/">
            <div class="ui icon message">
                <i class="university icon"></i>
                <div class="content">Querying with the<br>Carbon LDP SDK</div>
            </div>
        </a>
        <a class="info-cards__card" href="https://github.com/{{ git.info.owner }}/{{ git.info.repo }}/tree/{{ git.version.isSnapshot and 'develop' or git.version.raw }}/">
            <div class="ui icon message">
                <i class="github icon"></i>
                <div class="content">Source Code</div>
            </div>
        </a>
    </div>

    <h2 class="doc-content__title">Table of Contents</h2>
    <div class="ui celled list contents-table">
        {% for moduleDoc in doc.navigationDocs %}
            <div class="item">
                <div class="content contents-table__module">
                    <a class="item" href="/{{ moduleDoc.id }}">
                        {%- set module -%}
                            import {} from "SPARQLER{{ '/' + moduleDoc.id if moduleDoc.name !== 'index' }}"
                        {%- endset %}
                        <code class="highlight language-typescript">{{ module | highlight('typescript', doc) }}</code>
                    </a>
                    <div class="list">
                        {% for exported in moduleDoc.exports -%}
                            <div class="item">
                                <i class="icon"></i>
                                <div class="content">
                                    <a href="/{{ exported.id }}">{{ exported.name }}</a>
                                </div>
                            </div>
                        {%- endfor %}
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}