{% extends 'base.template.njk' %}

{% block title %}Index{% endblock %}

{% block content_continuation %}
    <h2 class="doc-content__title">SPARQLER</h2>
    <p>SPARQL query buildER for JavaScript/TypeScript which offers a fluent interface to help you construct queries and prevent errors by malformed patterns.</p>
    <p>SPARQLER is a part of the <a href="https://carbonldp.com/">CarbonLDPâ„¢</a> family.</p>
    <a class="main-logo" href="https://carbonldp.com">
        <img class="ui big image centered" src="images/carbon-ldp-logo.png">
    </a>
    <div class="info-cards">
        {% set main = doc.exports | selectattr('isDefault') | first %}
        <a class="info-cards__card" href="{{ main.id }}">
            <div class="ui icon message">
                <i class="code icon"></i>
                <div class="content">Main Class</div>
            </div>
        </a>
        <a class="info-cards__card" href="https://carbonldp.com/documentation/javascript-sdk/querying/">
            <div class="ui icon message">
                <i class="book icon"></i>
                <div class="content">Querying with the<br>Carbon LDP SDK</div>
            </div>
        </a>
        <a class="info-cards__card" href="https://github.com/{{ git.info.owner }}/{{ git.info.repo }}/tree/{{ git.version.isSnapshot and 'master' or git.version.raw }}/">
            <div class="ui icon message">
                <i class="github icon"></i>
                <div class="content">Source Code</div>
            </div>
        </a>
    </div>

    <h2 class="doc-content__title">Table of Contents</h2>
    <div class="ui celled list contents-table">
        {% for moduleDoc in doc.navigationDocs %}
            <div class="item contents-table__module">
                <div class="content">
                    <a class="item" href="/{{ moduleDoc.id }}">
                        {%- set module -%}
                            import {} from "sparqler{{ '/' + moduleDoc.id if moduleDoc.name !== 'index' }}"
                        {%- endset %}
                        <code class="highlight language-typescript">{{ module | highlight('typescript', doc) }}</code>
                    </a>
                    <div class="list">
                        {% for exported in moduleDoc.exports -%}
                            <div class="item contents-item">
                                {% set color = 'purple' if exported.docType === 'module'     else color %}
                                {% set color = 'orange' if exported.docType === 'interface'  else color %}
                                {% set color = 'blue'   if exported.docType === 'class'      else color %}
                                {% set color = 'teal'   if exported.docType === 'function'   else color %}
                                {% set color = 'green'  if exported.docType === 'enum'       else color %}
                                {% set color = 'yellow' if exported.docType === 'type-alias' else color %}
                                {% set color = 'violet'  if exported.docType === 'const'      else color %}
                                <span class="ui horizontal {{ color }} icon label contents-item__icon">{{ exported.docType | first | capitalize }}</span>
                                <div class="content contents-item__text">
                                    <a href="/{{ exported.id }}">{{ exported.name }}</a>
                                </div>
                            </div>
                        {%- endfor %}
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
