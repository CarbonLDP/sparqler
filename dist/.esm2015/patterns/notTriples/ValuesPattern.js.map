{"version":3,"sources":["patterns/notTriples/ValuesPattern.ts"],"names":[],"mappings":"AASA,OAAO,EAAE,iBAAiB,EAAE,MAAM,IAAI,CAAC;AACvC,OAAO,EACN,iBAAiB,EACjB,kBAAkB,EAClB,iBAAiB,EACjB,gBAAgB,EAChB,iBAAiB,EACjB,gBAAgB,EAChB,MAAM,GACN,MAAM,aAAa,CAAC;AAOrB,OAAO,EAAE,SAAS,EAAE,MAAM,6BAA6B,CAAC;AAExD,MAAM,oBAAqB,SAAQ,iBAAiB;IASnD,YAAa,QAAoB,EAAE,SAAoB;QACtD,KAAK,CAAE,CAAE,MAAM,CAAE,CAAE,CAAC;QACpB,IAAI,CAAC,IAAI,EAAE,CAAC;QAEZ,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QAE/B,EAAE,CAAA,CAAE,IAAI,CAAC,MAAM,KAAK,CAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,GAAG,SAAS,CAAE,CAAC,CAAE,CAAC,aAAa,EAAE,EAAE,iBAAiB,CAAE,CAAC;QACjF,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,gBAAgB,CAAE,CAAC;YAC5C,SAAS,CAAC,OAAO,CAAE,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,GAAG,QAAQ,CAAC,aAAa,EAAE,CAAE,CAAE,CAAC;YACxF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,iBAAiB,EAAE,gBAAgB,CAAE,CAAC;QAChE,CAAC;IACF,CAAC;IAOD,GAAG,CAAE,GAAG,MAAM;QACb,EAAE,CAAA,CAAE,IAAI,CAAC,MAAM,KAAK,MAAM,CAAC,MAAO,CAAC;YAAC,MAAM,IAAI,KAAK,CAAE,yEAAyE,CAAE,CAAC;QAEjI,EAAE,CAAA,CAAE,IAAI,CAAC,MAAM,KAAK,CAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,GAAG,SAAS,CAAE,MAAM,CAAE,CAAC,CAAE,CAAE,CAAE,CAAC;QACxD,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,gBAAgB,CAAE,CAAC;YAC5C,MAAM,CAAC,OAAO,CAAE,KAAK,CAAC,EAAE;gBACvB,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,GAAG,SAAS,CAAE,KAAK,CAAE,CAAE,CAAC;YACzD,CAAC,CAAE,CAAC;YACJ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,iBAAiB,CAAE,CAAC;QAC9C,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;IACnC,CAAC;IAED,UAAU;QACT,EAAE,CAAA,CAAE,IAAI,CAAC,MAAM,KAAK,CAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,kBAAkB,CAAE,CAAC;QAC/C,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,iBAAiB,CAAE,CAAC;QAC9C,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;IAC3B,CAAC;IAEO,IAAI;QACX,IAAI,CAAC,UAAU,GAAS;YACvB,UAAU,EAAE;gBACX,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAE,IAAI,CAAE;gBAC1B,UAAU,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE;aACnC;SACD,CAAC;IACH,CAAC;CAED;AAED,eAAe,aAAa,CAAC","file":"ValuesPattern.js","sourcesContent":["import { IRIResolver } from \"./../../iri/IRIResolver\";\nimport {\n\tMultipleValuesPattern,\n\tMultipleValuesPatternMore,\n\tSingleValuesPattern,\n\tSingleValuesPatternMore,\n\tSupportedNativeTypes,\n\tUndefined,\n} from \"./..\";\nimport { NotTriplesPattern } from \"./\";\nimport {\n\tCLOSE_MULTI_BLOCK,\n\tCLOSE_SINGLE_BLOCK,\n\tCLOSE_SINGLE_LIST,\n\tOPEN_MULTI_BLOCK,\n\tOPEN_SINGLE_BLOCK,\n\tOPEN_SINGLE_LIST,\n\tVALUES,\n} from \"./../tokens\";\nimport {\n\tLiteral,\n\tResource,\n\tVariable,\n} from \"./../triples\";\nimport { Token } from \"./../../tokens\";\nimport { serialize } from \"./../../utils/ObjectPattern\";\n\nexport class ValuesPattern extends NotTriplesPattern implements SingleValuesPattern, MultipleValuesPattern {\n\n\tprivate resolver;\n\tprivate length:number;\n\n\tprotected interfaces:{\n\t\taddPattern:SingleValuesPatternMore | MultipleValuesPatternMore;\n\t};\n\n\tconstructor( resolver:IRIResolver, variables:Variable[] ) {\n\t\tsuper( [ VALUES ] );\n\t\tthis.init();\n\n\t\tthis.resolver = resolver;\n\t\tthis.length = variables.length;\n\n\t\tif( this.length === 1 ) {\n\t\t\tthis.patternTokens.push( ...variables[ 0 ].getSelfTokens(), OPEN_SINGLE_BLOCK );\n\t\t} else {\n\t\t\tthis.patternTokens.push( OPEN_SINGLE_LIST );\n\t\t\tvariables.forEach( variable => this.patternTokens.push( ...variable.getSelfTokens() ) );\n\t\t\tthis.patternTokens.push( CLOSE_SINGLE_LIST, OPEN_MULTI_BLOCK );\n\t\t}\n\t}\n\n\thas( value:SupportedNativeTypes ):SingleValuesPatternMore;\n\thas( value:Resource ):SingleValuesPatternMore;\n\thas( value:Literal ):SingleValuesPatternMore;\n\thas( value:Undefined ):SingleValuesPatternMore;\n\thas( ...values:( SupportedNativeTypes | Resource | Literal | Undefined )[] ):MultipleValuesPatternMore;\n\thas( ...values ):( SingleValuesPatternMore | MultipleValuesPatternMore ) {\n\t\tif( this.length !== values.length ) throw new Error( \"InvalidArgumentError: The number of variables and values are different.\" );\n\n\t\tif( this.length === 1 ) {\n\t\t\tthis.patternTokens.push( ...serialize( values[ 0 ] ) );\n\t\t} else {\n\t\t\tthis.patternTokens.push( OPEN_SINGLE_LIST );\n\t\t\tvalues.forEach( value => {\n\t\t\t\treturn this.patternTokens.push( ...serialize( value ) );\n\t\t\t} );\n\t\t\tthis.patternTokens.push( CLOSE_SINGLE_LIST );\n\t\t}\n\t\treturn this.interfaces.addPattern;\n\t}\n\n\tgetPattern():Token[] {\n\t\tif( this.length === 1 ) {\n\t\t\tthis.patternTokens.push( CLOSE_SINGLE_BLOCK );\n\t\t} else {\n\t\t\tthis.patternTokens.push( CLOSE_MULTI_BLOCK );\n\t\t}\n\n\t\treturn this.patternTokens;\n\t}\n\n\tprivate init():void {\n\t\tthis.interfaces = <any> {\n\t\t\taddPattern: {\n\t\t\t\tand: this.has.bind( this ),\n\t\t\t\tgetPattern: () => this.getPattern(),\n\t\t\t},\n\t\t};\n\t}\n\n}\n\nexport default ValuesPattern;"],"sourceRoot":"../../../src"}