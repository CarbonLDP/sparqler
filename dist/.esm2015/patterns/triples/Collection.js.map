{"version":3,"sources":["patterns/triples/Collection.ts"],"names":[],"mappings":"AAKA,OAAO,EACN,gBAAgB,EAChB,iBAAiB,EACjB,eAAe,EACf,eAAe,EACf,gBAAgB,GAChB,MAAM,aAAa,CAAC;AAMrB,OAAO,EACN,aAAa,GAEb,MAAM,gBAAgB,CAAC;AACxB,OAAO,EAAE,SAAS,EAAE,MAAM,6BAA6B,CAAC;AACxD,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAElD,MAAM,iBAAkB,SAAQ,cAAkC;IAIjE,YAAa,QAAoB,EAAE,MAAoF;QACtH,KAAK,CAAE,QAAQ,CAAE,CAAC;QAElB,IAAI,MAAM,GAAW,EAAE,CAAC;QACxB,MAAM,CAAC,OAAO,CAAE,CAAE,KAAK,EAAE,KAAK,EAAG,EAAE;YAClC,MAAM,CAAC,IAAI,CAAE,GAAG,SAAS,CAAE,KAA6B,CAAE,CAAE,CAAC;YAC7D,EAAE,CAAA,CAAE,KAAK,GAAG,MAAM,CAAC,MAAM,GAAG,CAAE,CAAC;gBAAC,MAAM,CAAC,IAAI,CAAE,eAAe,CAAE,CAAC;QAChE,CAAC,CAAE,CAAC;QAEJ,IAAI,QAAQ,GAAW,MAAM,CAAC,MAAM,IAAI,CAAC,IAAI,CAAE,MAAM,CAAC,IAAI,CAAE,KAAK,CAAC,EAAE,CAAC,KAAK,YAAY,aAAa,CAAE,CAAC;QACtG,IAAI,CAAC,aAAa,GAAG;YACpB,QAAQ,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,eAAe;YAC7C,GAAG,MAAM;YACT,QAAQ,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,gBAAgB;SAC/C,CAAC;IACH,CAAC;IAED,UAAU;QACT,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,MAAM,CAAE,IAAI,CAAC,aAAa,CAAE,CAAC;IAC1D,CAAC;IAES,IAAI;QACb,KAAK,CAAC,IAAI,EAAE,CAAC;QACb,IAAI,CAAC,UAAU,CAAC,YAAY,GAAG;YAC9B,UAAU,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE;YACnC,aAAa,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE;SACzC,CAAC;IACH,CAAC;CAED;AAED,eAAe,UAAU,CAAC","file":"Collection.js","sourcesContent":["import { IRIResolver } from \"./../../iri/IRIResolver\";\nimport {\n\tSupportedNativeTypes,\n\tTriplesNodePattern,\n} from \"./..\";\nimport {\n\tCLOSE_MULTI_LIST,\n\tCLOSE_SINGLE_LIST,\n\tEMPTY_SEPARATOR,\n\tOPEN_MULTI_LIST,\n\tOPEN_SINGLE_LIST,\n} from \"./../tokens\";\nimport {\n\tLiteral,\n\tResource,\n\tVariable,\n} from \"./\";\nimport {\n\tNewLineSymbol,\n\tToken,\n} from \"./../../tokens\";\nimport { serialize } from \"./../../utils/ObjectPattern\";\nimport { TriplesPattern } from \"./TriplesPattern\";\n\nexport class Collection extends TriplesPattern<TriplesNodePattern> implements TriplesNodePattern {\n\n\tprotected elementTokens:Token[];\n\n\tconstructor( resolver:IRIResolver, values:(SupportedNativeTypes | Resource | Variable | Literal | TriplesNodePattern)[] ) {\n\t\tsuper( resolver );\n\n\t\tlet tokens:Token[] = [];\n\t\tvalues.forEach( ( value, index ) => {\n\t\t\ttokens.push( ...serialize( value as SupportedNativeTypes ) );\n\t\t\tif( index < values.length - 1 ) tokens.push( EMPTY_SEPARATOR );\n\t\t} );\n\n\t\tlet isSingle:boolean = values.length <= 1 && ! tokens.find( token => token instanceof NewLineSymbol );\n\t\tthis.elementTokens = [\n\t\t\tisSingle ? OPEN_SINGLE_LIST : OPEN_MULTI_LIST,\n\t\t\t...tokens,\n\t\t\tisSingle ? CLOSE_SINGLE_LIST : CLOSE_MULTI_LIST,\n\t\t];\n\t}\n\n\tgetPattern():Token[] {\n\t\treturn this.getSelfTokens().concat( this.patternTokens );\n\t}\n\n\tprotected init():void {\n\t\tsuper.init();\n\t\tthis.interfaces.graphPattern = {\n\t\t\tgetPattern: () => this.getPattern(),\n\t\t\tgetSelfTokens: () => this.getSelfTokens(),\n\t\t};\n\t}\n\n}\n\nexport default Collection;\n"],"sourceRoot":"../../../src"}