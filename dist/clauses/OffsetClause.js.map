{"version":3,"sources":["clauses/OffsetClause.ts"],"names":[],"mappings":";;AAGA,qDAAoD;AAKpD,mEAA0E;AA4B1E,SAAS,WAAW,CAAwF,cAA4B,EAAE,SAAW;IACpJ,OAAO,UAAE,MAAa;QACrB,IAAM,KAAK,GAAe,IAAI,yBAAW,CAAE,MAAM,CAAE,CAAC;QAEpD,IAAM,YAAY,GAAK,uDAA8B,CAAE,SAAS,EAAE,KAAK,CAAE,CAAC;QAC1E,OAAO,cAAc,CAAE,YAAY,EAAE,EAAE,CAAE,CAAC;IAC3C,CAAC,CAAC;AACH,CAAC;AAKY,QAAA,YAAY,GAgBrB;IACH,UAAU,EAAV,UAAoH,cAA4B,EAAE,SAAW,EAAE,MAAQ;QACtK,OAAO,MAAM,CAAC,MAAM,CAAE,MAAM,EAAE;YAC7B,MAAM,EAAE,WAAW,CAAE,cAAc,EAAE,SAAS,CAAE;SAChD,CAAE,CAAC;IACL,CAAC;CACD,CAAC","file":"OffsetClause.js","sourcesContent":["import { Container } from \"../data/Container\";\nimport { Factory } from \"../data/Factory\";\n\nimport { OffsetToken } from \"../tokens/OffsetToken\";\nimport { QueryClauseToken } from \"../tokens/QueryClauseToken\";\nimport { QueryToken } from \"../tokens/QueryToken\";\nimport { SubSelectToken } from \"../tokens/SubSelectToken\";\n\nimport { cloneSolutionModifierContainer } from \"./SolutionModifierClause\";\n\n\n/**\n * Interface with the methods available to make a OFFSET statement.\n */\nexport interface OffsetClause<T extends object> {\n\t/**\n\t * Set the offset of results the query should return from.\n\t *\n\t * @param offset The number to be applied as offset.\n\t * @returns A OffsetClause or the FinishClause/SubFinishClause depending\n\t * if the limit method has been called before or not.\n\t */\n\toffset( offset:number ):T;\n}\n\n/**\n * Function that creates the {@link OffsetClause.offset} function.\n *\n * @param genericFactory The factory for the generic {@link FinishClause}\n * that the {@link OffsetClause} receives.\n * @param container The container with the query data of the statement.\n *\n * @returns The {@link OffsetClause.offset} function.\n *\n * @private\n */\nfunction getOffsetFn<C extends Container<QueryToken<QueryClauseToken> | SubSelectToken>, T extends object>( genericFactory:Factory<C, T>, container:C ):OffsetClause<T>[ \"offset\" ] {\n\treturn ( offset:number ) => {\n\t\tconst token:OffsetToken = new OffsetToken( offset );\n\n\t\tconst newContainer:C = cloneSolutionModifierContainer( container, token );\n\t\treturn genericFactory( newContainer, {} );\n\t};\n}\n\n/**\n * Constant with the utils for {@link OffsetClause} objects.\n */\nexport const OffsetClause:{\n\t/**\n\t * Factory function that allows to crete a {@link OffsetClause}\n\t * from the {@param object} provided.\n\t *\n\t * @param genericFactory The factory to create the generic finish\n\t * of the {@link OffsetClause} statement.\n\t * @param container The related container with the data for the\n\t * {@link OffsetClause} statement.\n\t * @param object The base base from where to create the\n\t * {@link OffsetClause} statement.\n\t *\n\t * @return The {@link OffsetClause} statement created from the\n\t * {@param object} provided.\n\t */\n\tcreateFrom<C extends Container<QueryToken<QueryClauseToken> | SubSelectToken>, T extends object, O extends object>( genericFactory:Factory<C, T>, container:C, object:O ):O & OffsetClause<T>;\n} = {\n\tcreateFrom<C extends Container<QueryToken<QueryClauseToken> | SubSelectToken>, T extends object, O extends object>( genericFactory:Factory<C, T>, container:C, object:O ):O & OffsetClause<T> {\n\t\treturn Object.assign( object, {\n\t\t\toffset: getOffsetFn( genericFactory, container ),\n\t\t} );\n\t},\n};"]}