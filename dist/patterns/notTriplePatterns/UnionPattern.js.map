{"version":3,"sources":["patterns/notTriplePatterns/UnionPattern.ts"],"names":[],"mappings":";;AAAA,kDAAiD;AACjD,0CAAgD;AAEhD,oEAAmE;AAInE,uDAAsD;AAWtD,SAAS,UAAU,CAAE,SAAsC;IAC1D,OAAO,UAAA,QAAQ;;QACd,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAE,QAAQ,CAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAE,QAAQ,CAAE,CAAC;QAC/D,IAAM,aAAa,GAAqB,IAAI,qCAAiB,EAAE,CAAC;QAChE,CAAA,KAAA,aAAa,CAAC,QAAQ,CAAA,CAAC,IAAI,WAAK,QAAQ,CAAC,GAAG,CAAE,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,UAAU,EAAE,EAAd,CAAc,CAAE,EAAG;QAGtE,IAAM,aAAa,GAAG,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,MAAM,CAAE,aAAa,CAAE,CAAC;QAClF,IAAM,UAAU,GAAqB,oBAAY,CAAE,SAAS,CAAC,WAAW,EAAE,EAAE,aAAa,eAAA,EAAE,CAAE,CAAC;QAE9F,IAAM,YAAY,GAAG,IAAI,qBAAS,CAAE;YACnC,WAAW,EAAE,SAAS,CAAC,WAAW;YAClC,WAAW,EAAE,UAAU;SACvB,CAAE,CAAC;QACJ,OAAO,oBAAY,CAAC,UAAU,CAAE,YAAY,EAAE,EAAE,CAAE,CAAC;IACpD,CAAC,CAAA;AACF,CAAC;AAGY,QAAA,YAAY,GAAG;IAC3B,UAAU,EAAV,UAAsE,SAAW,EAAE,MAAQ;QAC1F,OAAO,mCAAgB,CAAC,UAAU,CAAE,SAAS,EAAE,MAAM,CAAC,MAAM,CAAE,MAAM,EAAE;YACrE,KAAK,EAAE,UAAU,CAAE,SAAS,CAAE;SAC9B,CAAE,CAAE,CAAC;IACP,CAAC;CACD,CAAC","file":"UnionPattern.js","sourcesContent":["import { Container } from \"../../data/Container\";\nimport { cloneElement } from \"../../data/utils\";\n\nimport { GroupPatternToken } from \"../../tokens/GroupPatternToken\";\nimport { UnionPatternToken } from \"../../tokens/UnionPatternToken\";\n\nimport { Pattern } from \"../Pattern\";\nimport { NotTriplePattern } from \"./NotTriplePattern\";\n\n\n/**\n * @todo\n */\nexport interface UnionPattern extends NotTriplePattern<UnionPatternToken> {\n\tunion( patterns:Pattern | Pattern[] ):UnionPattern;\n}\n\n\nfunction getUnionFn( container:Container<UnionPatternToken> ):UnionPattern[ \"union\" ] {\n\treturn patterns => {\n\t\tpatterns = Array.isArray( patterns ) ? patterns : [ patterns ];\n\t\tconst newGroupToken:GroupPatternToken = new GroupPatternToken();\n\t\tnewGroupToken.patterns.push( ...patterns.map( x => x.getPattern() ) );\n\n\n\t\tconst groupPatterns = container.targetToken.groupPatterns.concat( newGroupToken );\n\t\tconst unionToken:UnionPatternToken = cloneElement( container.targetToken, { groupPatterns } );\n\n\t\tconst newContainer = new Container( {\n\t\t\tiriResolver: container.iriResolver,\n\t\t\ttargetToken: unionToken,\n\t\t} );\n\t\treturn UnionPattern.createFrom( newContainer, {} );\n\t}\n}\n\n\nexport const UnionPattern = {\n\tcreateFrom<C extends Container<UnionPatternToken>, O extends object>( container:C, object:O ):UnionPattern {\n\t\treturn NotTriplePattern.createFrom( container, Object.assign( object, {\n\t\t\tunion: getUnionFn( container ),\n\t\t} ) );\n\t},\n};"]}