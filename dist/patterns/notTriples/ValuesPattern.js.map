{"version":3,"sources":["patterns/notTriples/ValuesPattern.ts"],"names":[],"mappings":";;;;;;;;;;;;AASA,uBAAuC;AACvC,sCAQqB;AAOrB,6DAAwD;AAExD;IAAmC,iCAAiB;IASnD,uBAAa,QAAoB,EAAE,SAAoB;QAAvD,YACC,kBAAO,CAAE,eAAM,CAAE,CAAE,SAanB;QAZA,KAAI,CAAC,IAAI,EAAE,CAAC;QAEZ,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,KAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QAE/B,EAAE,CAAA,CAAE,KAAI,CAAC,MAAM,KAAK,CAAE,CAAC,CAAC,CAAC;YACxB,CAAA,KAAA,KAAI,CAAC,aAAa,CAAA,CAAC,IAAI,WAAK,SAAS,CAAE,CAAC,CAAE,CAAC,aAAa,EAAE,SAAE,0BAAiB,IAAG;QACjF,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,KAAI,CAAC,aAAa,CAAC,IAAI,CAAE,yBAAgB,CAAE,CAAC;YAC5C,SAAS,CAAC,OAAO,CAAE,UAAA,QAAQ;gBAAI,OAAA,CAAA,KAAA,KAAI,CAAC,aAAa,CAAA,CAAC,IAAI,WAAK,QAAQ,CAAC,aAAa,EAAE;;YAApD,CAAsD,CAAE,CAAC;YACxF,KAAI,CAAC,aAAa,CAAC,IAAI,CAAE,0BAAiB,EAAE,yBAAgB,CAAE,CAAC;QAChE,CAAC;;;IACF,CAAC;IAOD,2BAAG,GAAH;QAAA,iBAaC;QAbI,gBAAS;aAAT,UAAS,EAAT,qBAAS,EAAT,IAAS;YAAT,2BAAS;;QACb,EAAE,CAAA,CAAE,IAAI,CAAC,MAAM,KAAK,MAAM,CAAC,MAAO,CAAC;YAAC,MAAM,IAAI,KAAK,CAAE,yEAAyE,CAAE,CAAC;QAEjI,EAAE,CAAA,CAAE,IAAI,CAAC,MAAM,KAAK,CAAE,CAAC,CAAC,CAAC;YACxB,CAAA,KAAA,IAAI,CAAC,aAAa,CAAA,CAAC,IAAI,WAAK,yBAAS,CAAE,MAAM,CAAE,CAAC,CAAE,CAAE,EAAG;QACxD,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,yBAAgB,CAAE,CAAC;YAC5C,MAAM,CAAC,OAAO,CAAE,UAAA,KAAK;gBACpB,MAAM,CAAC,CAAA,KAAA,KAAI,CAAC,aAAa,CAAA,CAAC,IAAI,WAAK,yBAAS,CAAE,KAAK,CAAE,EAAG;;YACzD,CAAC,CAAE,CAAC;YACJ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,0BAAiB,CAAE,CAAC;QAC9C,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;;IACnC,CAAC;IAED,kCAAU,GAAV;QACC,EAAE,CAAA,CAAE,IAAI,CAAC,MAAM,KAAK,CAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,2BAAkB,CAAE,CAAC;QAC/C,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,0BAAiB,CAAE,CAAC;QAC9C,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;IAC3B,CAAC;IAEO,4BAAI,GAAZ;QAAA,iBAOC;QANA,IAAI,CAAC,UAAU,GAAS;YACvB,UAAU,EAAE;gBACX,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAE,IAAI,CAAE;gBAC1B,UAAU,EAAE,cAAM,OAAA,KAAI,CAAC,UAAU,EAAE,EAAjB,CAAiB;aACnC;SACD,CAAC;IACH,CAAC;IAEF,oBAAC;AAAD,CAhEA,AAgEC,CAhEkC,oBAAiB,GAgEnD;AAhEY,sCAAa;AAkE1B,kBAAe,aAAa,CAAC","file":"ValuesPattern.js","sourcesContent":["import { IRIResolver } from \"./../../iri/IRIResolver\";\nimport {\n\tMultipleValuesPattern,\n\tMultipleValuesPatternMore,\n\tSingleValuesPattern,\n\tSingleValuesPatternMore,\n\tSupportedNativeTypes,\n\tUndefined,\n} from \"./..\";\nimport { NotTriplesPattern } from \"./\";\nimport {\n\tCLOSE_MULTI_BLOCK,\n\tCLOSE_SINGLE_BLOCK,\n\tCLOSE_SINGLE_LIST,\n\tOPEN_MULTI_BLOCK,\n\tOPEN_SINGLE_BLOCK,\n\tOPEN_SINGLE_LIST,\n\tVALUES,\n} from \"./../tokens\";\nimport {\n\tLiteral,\n\tResource,\n\tVariable,\n} from \"./../triples\";\nimport { Token } from \"./../../tokens\";\nimport { serialize } from \"./../../utils/ObjectPattern\";\n\nexport class ValuesPattern extends NotTriplesPattern implements SingleValuesPattern, MultipleValuesPattern {\n\n\tprivate resolver;\n\tprivate length:number;\n\n\tprotected interfaces:{\n\t\taddPattern:SingleValuesPatternMore | MultipleValuesPatternMore;\n\t};\n\n\tconstructor( resolver:IRIResolver, variables:Variable[] ) {\n\t\tsuper( [ VALUES ] );\n\t\tthis.init();\n\n\t\tthis.resolver = resolver;\n\t\tthis.length = variables.length;\n\n\t\tif( this.length === 1 ) {\n\t\t\tthis.patternTokens.push( ...variables[ 0 ].getSelfTokens(), OPEN_SINGLE_BLOCK );\n\t\t} else {\n\t\t\tthis.patternTokens.push( OPEN_SINGLE_LIST );\n\t\t\tvariables.forEach( variable => this.patternTokens.push( ...variable.getSelfTokens() ) );\n\t\t\tthis.patternTokens.push( CLOSE_SINGLE_LIST, OPEN_MULTI_BLOCK );\n\t\t}\n\t}\n\n\thas( value:SupportedNativeTypes ):SingleValuesPatternMore;\n\thas( value:Resource ):SingleValuesPatternMore;\n\thas( value:Literal ):SingleValuesPatternMore;\n\thas( value:Undefined ):SingleValuesPatternMore;\n\thas( ...values:( SupportedNativeTypes | Resource | Literal | Undefined )[] ):MultipleValuesPatternMore;\n\thas( ...values ):( SingleValuesPatternMore | MultipleValuesPatternMore ) {\n\t\tif( this.length !== values.length ) throw new Error( \"InvalidArgumentError: The number of variables and values are different.\" );\n\n\t\tif( this.length === 1 ) {\n\t\t\tthis.patternTokens.push( ...serialize( values[ 0 ] ) );\n\t\t} else {\n\t\t\tthis.patternTokens.push( OPEN_SINGLE_LIST );\n\t\t\tvalues.forEach( value => {\n\t\t\t\treturn this.patternTokens.push( ...serialize( value ) );\n\t\t\t} );\n\t\t\tthis.patternTokens.push( CLOSE_SINGLE_LIST );\n\t\t}\n\t\treturn this.interfaces.addPattern;\n\t}\n\n\tgetPattern():Token[] {\n\t\tif( this.length === 1 ) {\n\t\t\tthis.patternTokens.push( CLOSE_SINGLE_BLOCK );\n\t\t} else {\n\t\t\tthis.patternTokens.push( CLOSE_MULTI_BLOCK );\n\t\t}\n\n\t\treturn this.patternTokens;\n\t}\n\n\tprivate init():void {\n\t\tthis.interfaces = <any> {\n\t\t\taddPattern: {\n\t\t\t\tand: this.has.bind( this ),\n\t\t\t\tgetPattern: () => this.getPattern(),\n\t\t\t},\n\t\t};\n\t}\n\n}\n\nexport default ValuesPattern;"]}